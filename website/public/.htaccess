Options -Indexes +FollowSymLinks

RewriteEngine On
RewriteBase /

php_flag display_startup_errors on
php_flag display_errors on
php_flag html_errors on
php_flag log_errors on

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

RewriteRule ^api/([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/?$ /index.php?process=api&section=$1&subsection=$2&action=$3 [QSA,NC]
RewriteRule ^api/([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/?$ /index.php?process=api&section=$1&subsection=&action=$2 [QSA,NC]
RewriteRule ^api/([0-9a-zA-Z-_!]+)/?$ /index.php?process=api&section=$1&subsection=&action= [QSA,NC]

RewriteRule ^([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/?$ /index.php?section=$1&subsection=$2&action=$3 [QSA,NC]
RewriteRule ^([0-9a-zA-Z-_!]+)/([0-9a-zA-Z-_!]+)/?$ /index.php?section=$1&subsection=&action=$2 [QSA,NC]
RewriteRule ^([0-9a-zA-Z-_!]+)/?$ /index.php?section=$1&subsection=&action= [QSA,NC]

ErrorDocument 404 /index.php?error=404